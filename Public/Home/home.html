<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Movie/Game Night Home</title>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-black.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- update the version number as needed -->
    <script defer src="/__/firebase/10.12.3/firebase-app-compat.js"></script>
    <!-- include only the Firebase features as you need -->
    <script defer src="/__/firebase/10.12.3/firebase-auth-compat.js"></script>
    <script defer src="/__/firebase/10.12.3/firebase-database-compat.js"></script>
    <script defer src="/__/firebase/10.12.3/firebase-firestore-compat.js"></script>
    <script defer src="/__/firebase/10.12.3/firebase-functions-compat.js"></script>
    
    <!-- 
      initialize the SDK after all desired features are loaded, set useEmulator to false
      to avoid connecting the SDK to running emulators.
    -->
    <script defer src="/__/firebase/init.js?useEmulator=true"></script>
    <style>
      body,h1,h2,h3 {font-family: "Lato", sans-serif}
      body {font-size: 16px;}
      img {margin-bottom: -8px;}
      .mySlides {display: none}
    </style>
  </head>

  <body class="w3-content w3-theme-l4" style="max-width:2000px;">
      <!-- Navbar -->
      <div class="w3-top">
        <div class="w3-bar w3-black w3-card">
          <a class="w3-bar-item w3-button w3-padding-large w3-hide-small" id="moviesbtn"><i class="fa fa-film"></i> MOVIES</a>
          <a class="w3-bar-item w3-button w3-padding-large w3-hide-small" id="gamesbtn"><i class="fa fa-gamepad"></i> GAMES</a>
          <a class="w3-bar-item w3-button w3-padding-large w3-hide-small" id="recommendbtn"><i class="fa fa-thumb-tack"></i> RECOMMENDATIONS</a>
        </div>
      </div> 

      <div id="newpoll" class="w3-modal">
        <div class="w3-modal-content w3-card-4 w3-animate-top">
          <header class="w3-container w3-theme-l4 w3-center"> 
            <span onclick="document.getElementById('newpoll').style.display='none'"
            class="w3-button w3-display-topright">×</span>
            <br>
            <div class="w3-dropdown-click w3-margin-bottom">
              <button id="activitybtn" onclick="toggleDropdown()" class="w3-button w3-indigo w3-hover-blue w3-center"><i class="fa fa-mouse-pointer"></i> Select Activity</button>
              <div id="activitydropdown" class="w3-dropdown-content w3-bar-block w3-border">
                <a id="activitymoviebtn" onclick="changeActivity('movie')" class="w3-bar-item w3-button w3-indigo w3-hover-blue">Movie Night</a>
                <a id="activitygamebtn" onclick="changeActivity('game')"class="w3-bar-item w3-button w3-indigo w3-hover-blue">Game Night</a>
              </div>
            </div>
          </header>
          <div id="pollbody" class="w3-container w3-theme-l2">
            <p><label><i class="fa fa-male"></i> Number of Voters</label></p>
            <select class="w3-select w3-border" name="Voters">
              <option value="" disabled selected>0</option>
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
              <option value="6">6</option>
              <option value="7">7</option>
              <option value="8">8</option>
            </select>
            <br>
            <br>    
          </div>
          <footer class="w3-container w3-theme-l3 w3-center">
            <br>
            <div class="w3-margin-bottom">
              <button id="startpollbtn" class="w3-button w3-indigo w3-hover-blue w3-center" disabled><i class="fa fa-mouse-pointer"></i> Start Poll</button>
            </div>
          </footer>
        </div>
      </div>

      <div class="w3-container w3-content" style="max-width:1500px;margin-top:80px">    
        <!-- The Grid -->
        <div class="w3-row">
          <!-- Left Column -->
          <div class="w3-col m3">
            <!-- Profile -->
            <div class="w3-card w3-round w3-white">
              <div class="w3-container">
               <h1 class="w3-center">Instructions</h1>
              </div>
            </div>
            <br>
          
          <!-- End Left Column -->
          </div>
          
          <!-- Middle Column -->
          <div class="w3-col m7">
            <div class="w3-row-padding" id="polldiv">
              <div class="w3-col m12">
                <div class="w3-card w3-round w3-white">
                  <div class="w3-container w3-padding w3-center" id="activepoll">
                    <h1>Current Poll</h1>
                    <hr>
                    <div class="w3-bar">
                      <button type="button" class="w3-button w3-theme w3-center w3-blue" onclick="document.getElementById('newpoll').style.display='block'"><i class="fa fa-pencil-square-o"></i>  Create New Poll</button> 
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <br>
            
            <div class="w3-row-padding">
              <div class="w3-col m12">
                <div class="w3-card w3-round w3-white">
                  <div class="w3-container w3-padding" id="activepoll">
                    <h1 class="w3-center">Poll Results</h1>
                    <hr>
                  </div>
                </div>
              </div>
            </div>
            
            
          <!-- End Middle Column -->
          </div>
          
          <!-- Right Column -->
          <div class="w3-col m2">      
            <div class="w3-card w3-round w3-white w3-padding-16 w3-center">
              
            </div>
            <br>
            
            <div class="w3-card w3-round w3-white w3-padding-16 w3-center">
              
            </div>
            
          <!-- End Right Column -->
          </div>
          
        <!-- End Grid -->
        </div>
        
      <!-- End Page Container -->
      </div>
    
    <!-- Scripts -->
    <script>
      function toggleDropdown(type) {
        var x = null
        if (type == 'activity') {
          x = document.getElementById("activitydropdown");
        }
        else if (type == 'nomNumber') {
          x = document.getElementById("numberdropdown");
        }
        if (x.className.indexOf("w3-show") == -1) { 
          x.className += " w3-show";
        } else {
          x.className = x.className.replace(" w3-show", "");
        }
      }
      function updateActivityDropdown(selectedActivity) {
        const activitybtn = document.getElementById("activitybtn")
        const activitydropdown = document.getElementById("activitydropdown")
        if (selectedActivity == 'movie') {
          activitybtn.innerHTML = 'Movie Night'
          activitydropdown.innerHTML = '<a id="activitygamebtn" class="w3-bar-item w3-button w3-indigo w3-hover-blue">Game Night</a>'
          const activitygamebtn = document.getElementById("activitygamebtn")
          activitygamebtn.addEventListener('click', e=> {
              toggleDropdown() 
              updateActivityDropdown('game')
          })
        }
        else if (selectedActivity == 'game') {
          activitybtn.innerHTML = 'Game Night'
          activitydropdown.innerHTML = '<a id="activitymoviebtn" class="w3-bar-item w3-button w3-indigo w3-hover-blue">Movie Night</a>'
          const activitymoviebtn = document.getElementById("activitymoviebtn")
          activitymoviebtn.addEventListener('click', e=> {
              toggleDropdown() 
              updateActivityDropdown('movie')
          })
        }
      }
      function changeActivity(activity) {
        const pollbody = document.getElementById("pollbody")
        if (activity == 'movie') {
          toggleDropdown()
          updateActivityDropdown('movie')
          
        }
        else if (activity == 'game') {
          toggleDropdown()
          updateActivityDropdown('game')
        }
    }
    </script>
    <script type="module" src="home.js"></script>
  </body>
</html>
